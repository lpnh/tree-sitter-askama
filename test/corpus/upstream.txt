================================================================================
attr
================================================================================

{{ inner.a }}

--------------------------------------------------------------------------------



================================================================================
base
================================================================================

{{ title }}
{% block content %}{% endblock %}
{% block foo %}Foo{% endblock %}
Copyright 2017

--------------------------------------------------------------------------------



================================================================================
big-table
================================================================================

<table>
{% for row in table %}
<tr>{% for col in row %}<td>{{ col|escape }}</td>{% endfor %}</tr>
{% endfor %}
</table>

--------------------------------------------------------------------------------



================================================================================
block_in_include_base
================================================================================

{%- block block_in_base -%}
    block_in_base: from base!
{% endblock -%}

{%- include "block_in_include_partial.html" -%}

--------------------------------------------------------------------------------



================================================================================
blocks
================================================================================

{% block index %}
Section: {{ s1 }}
{% endblock %}

{% block section -%}
  [
  {%- for value in  values -%}
    {{ value }}
  {%- endfor -%}
  ]
{%- endblock %}

--------------------------------------------------------------------------------



================================================================================
child
================================================================================

{% extends "base.html" %}
{% block content %}({{ title }}) Content goes here{% endblock content %}

--------------------------------------------------------------------------------



================================================================================
compare
================================================================================

{% if a == b -%}
  t
{%- endif -%}
{% if a == c -%}
  t
{%- else -%}
  f
{%- endif %}
{% if a != c -%}
  t
{%- endif %}
{%- if a != b -%}
  t
{%- else -%}
  f
{%- endif %}
{% if c >= b -%}
  t
{%- endif -%}
{% if b >= c -%}
  t
{%- else -%}
  f
{%- endif %}
{% if c > b -%}
  t
{%- endif -%}
{% if a > c -%}
  t
{%- else -%}
  f
{%- endif %}
{% if a <= b -%}
  t
{%- endif -%}
{% if c <= b -%}
  t
{%- else -%}
  f
{%- endif %}
{% if a < c -%}
  t
{%- endif %}
{%- if a < b -%}
  t
{%- else -%}
  f
{%- endif %}

--------------------------------------------------------------------------------



================================================================================
deep-base
================================================================================

{% import "macro.html" as libb %}
<html>
  <head>
  {% block head %}
    <style></style>
  {% endblock %}
  </head>
  <body>
  {% block body %}
    {% call libb::thrice("nav") %}{% endcall %}
    Copyright {{ year }}
  {% endblock %}
  </body>
</html>

--------------------------------------------------------------------------------



================================================================================
else
================================================================================

{% if cond %}true{% else %}false{% endif %}

--------------------------------------------------------------------------------



================================================================================
else-if
================================================================================

{% if cond %}true{% else if check %}checked{% else %}false{% endif %}

--------------------------------------------------------------------------------



================================================================================
extend_and_import
================================================================================

{% import "macro.html" as m1 %}

{% block header %}{% endblock %}

--------------------------------------------------------------------------------



================================================================================
filters
================================================================================

{{ strvar|e }}

--------------------------------------------------------------------------------



================================================================================
filters_join
================================================================================

{{ s|join(", ") }}

--------------------------------------------------------------------------------



================================================================================
for
================================================================================

{% for s in strings %}
  {{- loop.index0 }}. {{ s }}{% if loop.first %} (first){% endif %}
{% endfor %}
{% for (s1, s2, ) in tuple_strings %}
  {{- loop.index0 }}. {{ s1 }},{{ s2 }}{% if loop.first %} (first){% endif %}
{% endfor %}

--------------------------------------------------------------------------------



================================================================================
format
================================================================================

{{ "{:?}"|format(var) }}

--------------------------------------------------------------------------------



================================================================================
if-coerce
================================================================================

{% macro foo(b) -%}
    {% if b %}t{% else %}f{% endif -%}
{% endmacro -%}

{% macro bar(b) -%}
    {%- call foo(b) -%}{%- endcall -%}
{% endmacro -%}

{% macro baz(b) -%}
    {%- call bar(b) -%}{%- endcall -%}
{% endmacro -%}

{% macro qux(b) -%}
    {%- call baz(b) -%}{%- endcall -%}
{% endmacro -%}

{%- call foo(false) -%}{%- endcall -%}
{%- call bar(true) -%}{%- endcall -%}
{%- call baz(false) -%}{%- endcall -%}
{%- call qux(true) -%}{%- endcall -%}

{%- call qux(true && false) -%}{%- endcall -%}
{%- call qux(false || true) -%}{%- endcall -%}

{%- call qux(self.t) -%}{%- endcall -%}
{%- call qux(self.f) -%}{%- endcall -%}
{%- call qux(self.f || self.t) -%}{%- endcall -%}

{%- if false -%}
if
{%- else if false || true -%}
elseif
{%- else -%}
else
{%- endif -%}

{%- if true && false -%}
if
{%- else if false -%}
elseif
{%- else -%}
else
{%- endif -%}

{%- if false || true -%}
if
{%- else if (true && false) -%}
elseif
{%- else -%}
else
{%- endif -%}

--------------------------------------------------------------------------------



================================================================================
if
================================================================================

{% if cond %}true{% endif %}

--------------------------------------------------------------------------------



================================================================================
let
================================================================================

{% let v = s %}{{ v }}
{% let (v1,v2) = t %}{{ v1 }}{{ v2 }}

--------------------------------------------------------------------------------



================================================================================
macro
================================================================================

1

{%- macro thrice(param) -%}

{{ param }} {{ param }} {{ param }}

{%- endmacro -%}

2

{%- call thrice(s) -%}{%- endcall -%}

3

{%- macro twice(param) -%}

{{ param }} {{ param }}

{%- endmacro twice -%}

4

{%- call twice(s) -%}{%- endcall -%}

5

--------------------------------------------------------------------------------



================================================================================
macro-import-callexpr
================================================================================

{% import "nested-macro-callexpr.html" as otherscope %}

{% macro intermediate() %}
    {{- otherscope::parent() -}}
{% endmacro %}

--------------------------------------------------------------------------------



================================================================================
match-literal-num
================================================================================

{% match item %}
{% when 42 %}
Found answer to everything
{% else %}
Else found {{item}}
{% endmatch %}

--------------------------------------------------------------------------------



================================================================================
match-no-ws
================================================================================

{% match foo %}{% when Some with (bar) %}{{ bar }}{% when None %}{% endmatch %}

--------------------------------------------------------------------------------



================================================================================
match-opt
================================================================================

{% match item %}
{% when Some with ("foo") %}
Found literal foo
{% when Some with (val) %}
Found {{val}}
{% when None %}
Not Found
{% endmatch %}

--------------------------------------------------------------------------------



================================================================================
option
================================================================================

{% if var.is_some() -%}
  some: {{ var.unwrap() }}
{%- else -%}
  none
{%- endif %}

--------------------------------------------------------------------------------



================================================================================
rust-macros-full-path
================================================================================

Hello, {{ foo::hello2!() }}!

--------------------------------------------------------------------------------



================================================================================
simple
================================================================================

{# our very first test! #}
hello world, {{ strvar }}
with number: {{ num }}
Iñtërnâtiônàlizætiøn is important
in vars too: {{ i18n }}

--------------------------------------------------------------------------------



================================================================================
teams
================================================================================

<html>
  <head>
    <title>{{ year }}</title>
  </head>
  <body>
    <h1>CSL {{ year }}</h1>
    <ul>
    {% for team in teams %}
      <li class="{% if loop.index0 == 0 %}champion{% endif %}">
      <b>{{ team.name }}</b>: {{ team.score }}
      </li>
    {% endfor %}
    </ul>
  </body>
</html>

--------------------------------------------------------------------------------



================================================================================
tuple-attr
================================================================================

{{ tuple.0 }}{{ tuple.1 }}

--------------------------------------------------------------------------------



